name = "babesky-dm-reply-bot"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Cron: poll for new DMs every minute
[triggers]
crons = ["* * * * *"]

# KV Namespace for bot config and replied-users
# Create in Cloudflare Dashboard: Workers & Pages → KV → Create a namespace
# Then add as binding BOT_CONFIG in Worker Settings
[[kv_namespaces]]
binding = "BOT_CONFIG"
id = "00000000000000000000000000000000"

# Environment variables (set in Dashboard)
[vars]
BSKY_SERVICE_URL = "https://bsky.social"
WEBHOOK_BASE_URL = ""

# Secrets (set in Dashboard → Worker → Settings → Variables and Secrets)
# BSKY_HANDLE - your Bluesky handle (e.g. you.bsky.social)
# BSKY_APP_PASSWORD - app password with "Allow access to your direct messages" enabled
# ADMIN_SESSION_SECRET - random 32+ char string for admin session signing
